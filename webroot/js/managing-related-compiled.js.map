{"version":3,"sources":["managing-related.es6"],"names":[],"mappings":";;AAAA,MAAM,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE;AACnC,EAAC,CAAC,aAAa,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,UAAA,CAAC,EAAI;AACjC,GAAC,CAAC,cAAc,EAAE,CAAC;AACnB,GAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;EAClC,CAAC,CAAC;AACH,EAAC,CAAC,uBAAuB,CAAC,CACxB,YAAY,CACZ;AACC,WAAS,EAAE,CAAC;AACZ,QAAM,EAAK,wCAAwC,GAAG,aAAa;AACnE,QAAM,EAAK,gBAAU,KAAK,EAAE,EAAE,EAAE;AAC/B,OAAI,SAAS,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC;AAC5B,OAAI,IAAI,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AACzB,OAAI,YAAY,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC;AACjC,OAAI,WAAW,mQAKH,IAAI,iBAAY,YAAY,SAAI,SAAS,iEAC1B,YAAY,SAAI,WAAW,sBAAiB,SAAS,iEACrD,YAAY,SAAI,WAAW,gDAA2C,UAAU,iEAChF,YAAY,SAAI,WAAW,gDAA2C,YAAY,qGAI3G,CAAC;;AAEH,OAAI,gBAAgB,EAAE;AACrB,KAAC,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAChC,eAAW,GAAG,CAAC,CAAC;IAChB,MAAM;AACN,KAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;AAClC,eAAW,EAAE,CAAC;IACd;;AAGD,IAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;AAChB,QAAK,CAAC,cAAc,EAAE,CAAC;GACvB;EACD,CAAC,CACF,YAAY,CAAC,UAAU,CAAC,CAAC,WAAW,GAAG,UAAC,EAAE,EAAE,IAAI,EAAK;AACtD,SAAO,CAAC,CAAC,MAAM,CAAC,CACd,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,aAAa,GAAG,IAAI,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,cAAc,CAAC,CAC3F,QAAQ,CAAC,EAAE,CAAC,CAAC;EACf,CAAC;CACF,CAAC,CAAC","file":"managing-related-compiled.js","sourcesContent":["jQuery(document).ready(function ($) {\n\t$('#addRelated').on('click', e => {\n\t\te.preventDefault();\n\t\t$('#related').append(rowTemplate);\n\t});\n\t$(\"#foreign-table-search\")\n\t\t.autocomplete(\n\t\t\t{\n\t\t\t\tminLength: 3,\n\t\t\t\tsource   : '/RelatedContent/RelatedContent/search/' + tables_to_get,\n\t\t\t\tselect   : function (event, ui) {\n\t\t\t\t\tvar target_id = ui.item.key;\n\t\t\t\t\tvar text = ui.item.value;\n\t\t\t\t\tvar target_table = ui.item.table;\n\t\t\t\t\tvar rowTemplate = `\n\t\t\t\t\t\t<div class=\"alert alert-info\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">Ã—</button>\n\t\t\t\t\t\t\t<div class=\"row last\">\n\t\t\t\t\t\t\t\t<div class=\"col-md-10\">\n\t\t\t\t\t\t\t\t\t<span>${text} <small>(${target_table}/${target_id})</small></span>\n\t\t\t\t\t\t\t\t\t<input name=\"related-${target_table}[${nth_related}][id]\" value=\"${target_id}\" type=\"hidden\">\n\t\t\t\t\t\t\t\t\t<input name=\"related-${target_table}[${nth_related}][_joinData][source_table_name]\" value=\"${this_table}\" type=\"hidden\">\n\t\t\t\t\t\t\t\t\t<input name=\"related-${target_table}[${nth_related}][_joinData][target_table_name]\" value=\"${target_table}\" type=\"hidden\">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`;\n\n\t\t\t\t\tif (just_one_related) {\n\t\t\t\t\t\t$('#related').html(rowTemplate);\n\t\t\t\t\t\tnth_related = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#related').append(rowTemplate);\n\t\t\t\t\t\tnth_related++;\n\t\t\t\t\t}\n\n\n\t\t\t\t\t$(this).val('');\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t})\n\t\t.autocomplete(\"instance\")._renderItem = (ul, item) => {\n\t\treturn $(\"<li>\")\n\t\t\t.append(\"<a>\" + item.label + \"<br><small>\" + item.model + ' / ' + item.key + \"</small></a>\")\n\t\t\t.appendTo(ul);\n\t};\n});\n\n"]}